{% extends 'base.html' %}
{% load static %}

{% block content %}
<h1>ë§ˆì´í˜ì´ì§€ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤ ğŸ–¤</h1>

<div class="profile-container">
     <div class="profile-info">
          <p><strong>ì‚¬ìš©ìëª…:</strong> {{ user.username }}</p>
          <p><strong>ì†Œê°œ:</strong> {{ user.profile.bio }}</p>
          <p><strong>ì „í™”ë²ˆí˜¸:</strong> {{ user.profile.phone_number }}</p>
          <p><strong>ìƒì¼:</strong> {{ user.profile.birth|date:"Y-m-d" }}</p>
     </div>
</div>

<hr>
<p>íŒ”ë¡œì›Œ<br>{{ user.profile.followers.count}}ëª…</p>
<p>íŒ”ë¡œì‰<br>{{ user.profile.followings.count}}ëª…</p>

{% if request.user != user %}
{% if request.user.profile in user.profile.followers.all %}
<a href="{% url 'users:follow' user.id %}">
     <button type="button" class="btn btn-outline-info">ì–¸íŒ”ë¡œìš°</button>
</a>
{% else %}
<a href="{% url 'users:follow' user.id %}">
     <button type="button" class="btn btn-info">íŒ”ë¡œìš°</button>
</a>

{% endif %}
{% endif %}

<hr>

<h2>{{ user.username }}ë‹˜ì´ ì‘ì„±í•œ ê¸€ ëª©ë¡</h2>
<div class="posts-container">
     {% if user_posts %}
     {% for post in user_posts %}
     <div class="post-item">
          <h3><a href="{% url 'main:detail' post.id %}">{{ post.title }}</a> - ì˜¤ëŠ˜ ê¸°ë¶„ : {{ post.feeling }}</h3>

          <p>{{ post.writer }} | {% for tag in post.tags.all %}#{{ tag.name }}
               {% endfor %} | {{ post.created_at|date:"Y-m-d H:i" }}
          </p>
          <p>{{ post.summary }}</p>
          <hr>
     </div>
     {% endfor %}
     {% else %}
     <p>ì•„ì§ ì‘ì„±í•œ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
     {% endif %}
</div>

{% endblock %}